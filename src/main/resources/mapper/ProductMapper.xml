<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.example.bareuda.mapper.ProductMapper">

    <select id="getRecommended" parameterType="string" resultType="com.example.bareuda.entity.Product">
        <![CDATA[
        select distinct * from tbl_products
        where (P_RESULT LIKE #{type1} or P_RESULT LIKE #{type2} or P_RESULT LIKE #{type3} or P_RESULT LIKE #{type4})
        and ROWNUM <= 21
        ]]>
    </select>

    <select id="getRecommendedCategory" parameterType="string" resultType="com.example.bareuda.entity.Product">
        <![CDATA[
        select distinct * from tbl_products
        where (P_RESULT LIKE #{type1} or P_RESULT LIKE #{type2} or P_RESULT LIKE #{type3} or P_RESULT LIKE #{type4})
        and (ROWNUM <= 21)
        and (p_category = #{category})
        ]]>
    </select>

</mapper>
